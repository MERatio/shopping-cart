(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{37:function(t,e,c){},44:function(t,e,c){},48:function(t,e,c){},49:function(t,e,c){},50:function(t,e,c){},51:function(t,e,c){},52:function(t,e,c){},53:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),s=c(25),r=c.n(s),i=(c(34),c(35),c(37),c(21)),o=c.n(i),u=c(29),d=c(13),l=c(26),j=c(10),b=c(5),m=c(3),p=c(17),x=c(18),O=(c(44),c(0));var h=function(t){var e=t.cartItemsLength;return Object(O.jsxs)(b.c,{exact:!0,to:"/cart",className:"nav-link CartLink",children:[Object(O.jsx)(p.a,{icon:x.a,size:"3x"}),Object(O.jsx)("span",{className:"cart-items-number text-dark",children:e})]})};var v=function(t){var e=t.cartItemsLength;return Object(O.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary sticky-top mb-4",children:[Object(O.jsx)(b.c,{to:"/",className:"navbar-brand",children:"Shopping Cart"}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("span",{className:"navbar-toggler-icon"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(O.jsxs)("ul",{className:"navbar-nav ml-auto d-flex align-items-center",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(b.c,{exact:!0,to:"/products",className:"nav-link h5",activeClassName:"active",children:"Products"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(h,{cartItemsLength:e})})]})})]})},f=c(16);c(48);var g=function(t){var e=t.value,c=t.onInputChange;return Object(O.jsxs)("div",{className:"form-group d-flex align-items-center",children:[Object(O.jsx)("label",{htmlFor:"quantity",className:"mb-0",children:"Quantity"}),Object(O.jsx)("input",{type:"number",className:"form-control ml-3 quantity-input",id:"quantity",name:"quantity",value:e,min:"1",step:"1",required:!0,onChange:c})]})};var N=function(t){var e=t.productId,c=t.onSubmit,a=Object(n.useState)({quantity:1}),s=Object(j.a)(a,2),r=s[0],i=s[1];return Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c(e,parseInt(r.quantity,10))},children:[Object(O.jsx)(g,{value:r.quantity,onInputChange:function(t){var e=t.target,c=e.name,n=e.value;i(Object(f.a)({},c,n))}}),Object(O.jsx)("button",{className:"btn btn-primary",children:"Add To Cart"})]})};c(49);var y=function(t){var e=t.products,c=t.onAddToCartSubmit,n=Object(m.g)().productId,a=parseInt(n,10),s=e.find((function(t){return t.id===a}));return Object(O.jsx)("section",{className:"row justify-content-center",children:Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-lg-4 text-center",children:Object(O.jsx)("img",{src:s.image,alt:s.title,className:"Product-img"})}),Object(O.jsxs)("div",{className:"col-lg-8",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:s.title}),Object(O.jsx)("p",{className:"text-primary h2 font-weight-bold",children:"$".concat(s.price)})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)(N,{productId:s.id,onSubmit:c})})]})]})})})};c(50);var k=function(t){var e=t.item,c=Object(m.h)().url;return Object(O.jsxs)("div",{className:"card LinkCard",children:[Object(O.jsx)(b.b,{to:"".concat(c,"/").concat(e.id),children:Object(O.jsx)("span",{className:"link-spanner"})}),Object(O.jsx)("img",{src:e.image,alt:e.title,className:"card-img-top mx-auto LinkCard-img"}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{className:"card-title",children:e.title}),Object(O.jsx)("p",{className:"card-text font-weight-bold text-primary",children:"$".concat(e.price)})]})]})};var C=function(t){var e=t.items.map((function(t){return Object(O.jsx)("div",{className:"col mb-4",children:Object(O.jsx)(k,{item:t})},t.id)}));return Object(O.jsx)("section",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4",children:e})};var I=function(t){var e=t.products,c=t.onAddToCartSubmit,n=Object(m.h)().path;return Object(O.jsxs)(m.d,{children:[Object(O.jsx)(m.b,{exact:!0,path:n,children:Object(O.jsx)(C,{items:e})}),Object(O.jsx)(m.b,{exact:!0,path:"".concat(n,"/:productId"),children:e.length&&Object(O.jsx)(y,{products:e,onAddToCartSubmit:c})})]})};c(51);var S=function(t){var e=t.mappedCartItems,c=t.onQuantityInputChange,n=t.onCartItemDelete,a=e.reduce((function(t,e){var c=e.quantity;return isNaN(c)&&(c=1),t+e.product.price*c}),0);return Object(O.jsx)("section",{className:"row justify-content-center",children:Object(O.jsxs)("div",{className:"col-sm-10",children:[e.length<1?Object(O.jsx)("h1",{className:"text-center",children:"You have no items in your cart"}):e.map((function(t){return Object(O.jsxs)("div",{className:"row align-items-center text-center mb-4",children:[Object(O.jsx)("div",{className:"col-md-3 mb-2",children:Object(O.jsx)(b.b,{to:"/products/".concat(t.product.id),children:Object(O.jsx)("img",{src:t.product.image,alt:t.product.title,className:"Cart-product-img"})})}),Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("p",{className:"mb-1",children:Object(O.jsx)(b.b,{to:"/products/".concat(t.product.id),children:t.product.title})})}),Object(O.jsxs)("div",{className:"col-md-2 mb-2",children:[Object(O.jsx)("p",{className:"text-primary font-weight-bold mb-1",children:"$".concat(t.product.price)}),Object(O.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(e){return n(t.product.id)},children:Object(O.jsx)(p.a,{icon:x.b})})]}),Object(O.jsx)("div",{className:"col-md-3 d-flex justify-content-center",children:Object(O.jsx)(g,{value:String(t.quantity),onInputChange:function(e){return c(t.product.id,e.target.value)}})})]},t.product.id)})),e.length>0&&Object(O.jsx)("div",{className:"row d-flex justify-content-end",children:Object(O.jsxs)("p",{className:"h4",children:["Subtotal:"," ",Object(O.jsxs)("span",{className:"font-weight-bold text-primary",children:["$",(Math.round(100*a)/100).toFixed(2)]})]})})]})})};c(52);var w=function(){return Object(O.jsxs)("div",{className:"sk-cube-grid",children:[Object(O.jsx)("div",{className:"sk-cube sk-cube1"}),Object(O.jsx)("div",{className:"sk-cube sk-cube2"}),Object(O.jsx)("div",{className:"sk-cube sk-cube3"}),Object(O.jsx)("div",{className:"sk-cube sk-cube4"}),Object(O.jsx)("div",{className:"sk-cube sk-cube5"}),Object(O.jsx)("div",{className:"sk-cube sk-cube6"}),Object(O.jsx)("div",{className:"sk-cube sk-cube7"}),Object(O.jsx)("div",{className:"sk-cube sk-cube8"}),Object(O.jsx)("div",{className:"sk-cube sk-cube9"})]})};var q=function(){var t=Object(n.useState)([]),e=Object(j.a)(t,2),c=e[0],a=e[1],s=Object(n.useState)(!1),r=Object(j.a)(s,2),i=r[0],p=r[1],x=Object(n.useState)([]),h=Object(j.a)(x,2),f=h[0],g=h[1];function N(){return(N=Object(l.a)(o.a.mark((function t(){var e,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://fakestoreapi.com/products?limit=20");case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,a(c),p(!0);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[]),Object(O.jsxs)(b.a,{children:[Object(O.jsx)(v,{cartItemsLength:f.length}),Object(O.jsx)("main",{className:"container",children:i?Object(O.jsxs)(m.d,{children:[Object(O.jsx)(m.b,{exact:!0,path:"/",children:Object(O.jsx)(m.a,{to:"products"})}),Object(O.jsx)(m.b,{path:"/products",children:Object(O.jsx)(I,{products:c,onAddToCartSubmit:function(t,e){g((function(c){return c.find((function(e){return e.productId===t}))?c.map((function(c){return c.productId!==t?c:Object(d.a)(Object(d.a)({},c),{},{quantity:c.quantity+e})})):[].concat(Object(u.a)(c),[{productId:t,quantity:e}])}))}})}),Object(O.jsx)(m.b,{exact:!0,path:"/cart",children:Object(O.jsx)(S,{mappedCartItems:function(t,e){return e.map((function(e){return{product:t.find((function(t){return t.id===e.productId})),quantity:e.quantity}}))}(c,f),onQuantityInputChange:function(t,e){g((function(c){return c.map((function(c){return c.productId!==t?c:Object(d.a)(Object(d.a)({},c),{},{quantity:parseInt(e,10)})}))}))},onCartItemDelete:function(t){g((function(e){return e.filter((function(e){return e.productId!==t}))}))}})})]}):Object(O.jsx)(w,{})})]})},L=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),s(t),r(t)}))};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root")),L()}},[[53,1,2]]]);
//# sourceMappingURL=main.ca28ff36.chunk.js.map